# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание проекта

Проектная работа "Веб-ларёк" является примером интернет-магазина для веб-разработчиков, который позволяет просматривать каталог товаров, делать заказы и добавлять товары в корзину.

Особенности реализации:
— при использовании заглушки АПИ билеты бронируются на сутки и можно видеть что места заняты;
— до оформления заказа содержимое корзины сохраняется в localStorage;
— после успешного заказа контактные данные сохраняются в localStorage и подставляются в форму заказа в следующий раз.

## Описание интерфейса

Интерфейс можно условно разделить на 3 процесса:
1. Просмотр каталога
2. Выбор товара
3. Оформление заказа

## Архитектура проекта (MVC)

### Model
Класс ProductList отвечает за формирование объекта из полученного от API списка товаров. Он использует интерфейс IProduct, который описывает типы всех получаемых от API данных. Данный класс также отвечает за предоставление подробных данных о товаре при открытии карточки товара в модальном окне. 
В коллекцию items с интерфейсом IBasket будет сохраняться временный список выбранных пользователем товаров, для последующего оформления покупки. 
Свойство OrderDetails собирает данные пользователя для оформлении заказа. 
* Метод collectPaymentData с типом Delivery принимает способ оплаты и адрес доставки.
* Метод collectPersonalData с типом PersonalData принимает телефон и email.

### View
Слой отображения, используя класс ListView и его метод createCards отвечает за наполнение верстки экземплярами класса ProductList. В свою очередь, метод basketView отображает текущее состояние корзины товаров с порядковыми номерами, кнопками удаления товара, оформления и закрытия окна. Нажатие на товар открывает компонент modal с карточкой товара.
* При получении сигнала от обработчика о нажатии кнопки "Оформить", метод createOrder отображает форму выбора способа оплаты и адреса для доставки с типом Delivery.
* Метод inputPersonalData отображает форму для ввода email и номера телефона с типом PersonalData.
* При успешном оформлении товара, метод viewOrder информирует об успешном оформлении заказа. На каждом из этапов в случае ошибки отображается информация об ошибке типа Error.

### Controller
Класс EventEmitter, подключает и снимает слушатели с пользовательских элементов управления экземпляров класса ListView, открывают и закрывают модальное окно  путём клика на соответствующие компоненты управления. Устанавливает слушатель на кнопки подтверждения действия в открытом модальном окне карточки, а также обработчики на закрытие окна по нажатию на соответствующую кнопку или вне окна. При нажатии пользователем кнопки "Купить", обработчик отправит соответствующий экземпляр класса ProductList в коллекцию items. При изменении числа товаров в корзине происходит обновление счетчика корзины. Вводимы в формах данные записываются в соответствующие свойства класса ProductList.




![Image alt](https://github.com/ozalexander/web-larek-frontend/blob/main/src/images/Web-ларёк.jpg)